<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.60">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/interview/img/logo.svg"><title>精简八股</title><meta name="description" content="精简八股文">
    <link rel="preload" href="/interview/assets/style-00c2e01d.css" as="style"><link rel="stylesheet" href="/interview/assets/style-00c2e01d.css">
    <link rel="modulepreload" href="/interview/assets/app-aa183e5a.js"><link rel="modulepreload" href="/interview/assets/framework-96b046e1.js"><link rel="modulepreload" href="/interview/assets/数据库.html-cd918948.js"><link rel="modulepreload" href="/interview/assets/数据库.html-a9e26ea6.js"><link rel="prefetch" href="/interview/assets/index.html-df761e7d.js" as="script"><link rel="prefetch" href="/interview/assets/Spring.html-ab04acb8.js" as="script"><link rel="prefetch" href="/interview/assets/JavaGC.html-76b5828f.js" as="script"><link rel="prefetch" href="/interview/assets/Java关键字.html-fe3426f2.js" as="script"><link rel="prefetch" href="/interview/assets/Java基础.html-dae0f943.js" as="script"><link rel="prefetch" href="/interview/assets/Java杂.html-cdbf7c66.js" as="script"><link rel="prefetch" href="/interview/assets/Java线程.html-7cdf51c9.js" as="script"><link rel="prefetch" href="/interview/assets/Java虚拟机.html-63a36be1.js" as="script"><link rel="prefetch" href="/interview/assets/Java锁.html-bb147e57.js" as="script"><link rel="prefetch" href="/interview/assets/Java集合.html-ce00154f.js" as="script"><link rel="prefetch" href="/interview/assets/Java面向对象.html-60ceb775.js" as="script"><link rel="prefetch" href="/interview/assets/Elasticsearch.html-38a0dc9a.js" as="script"><link rel="prefetch" href="/interview/assets/Kafka.html-20e71732.js" as="script"><link rel="prefetch" href="/interview/assets/k8s.html-cb31f7ed.js" as="script"><link rel="prefetch" href="/interview/assets/Java.html-da18483b.js" as="script"><link rel="prefetch" href="/interview/assets/云.html-0f7659cb.js" as="script"><link rel="prefetch" href="/interview/assets/其他.html-12ff8a1b.js" as="script"><link rel="prefetch" href="/interview/assets/网络.html-7e794ab4.js" as="script"><link rel="prefetch" href="/interview/assets/解决问题.html-aed76e46.js" as="script"><link rel="prefetch" href="/interview/assets/认证授权.html-8079edf6.js" as="script"><link rel="prefetch" href="/interview/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/interview/assets/index.html-421116f5.js" as="script"><link rel="prefetch" href="/interview/assets/Spring.html-b755c859.js" as="script"><link rel="prefetch" href="/interview/assets/JavaGC.html-fb8cccc3.js" as="script"><link rel="prefetch" href="/interview/assets/Java关键字.html-7733e53f.js" as="script"><link rel="prefetch" href="/interview/assets/Java基础.html-0186cd5f.js" as="script"><link rel="prefetch" href="/interview/assets/Java杂.html-dcb4a391.js" as="script"><link rel="prefetch" href="/interview/assets/Java线程.html-22c316b8.js" as="script"><link rel="prefetch" href="/interview/assets/Java虚拟机.html-62d425ce.js" as="script"><link rel="prefetch" href="/interview/assets/Java锁.html-f32f12e2.js" as="script"><link rel="prefetch" href="/interview/assets/Java集合.html-7958b760.js" as="script"><link rel="prefetch" href="/interview/assets/Java面向对象.html-bf0c262f.js" as="script"><link rel="prefetch" href="/interview/assets/Elasticsearch.html-a7c8b313.js" as="script"><link rel="prefetch" href="/interview/assets/Kafka.html-fcf23121.js" as="script"><link rel="prefetch" href="/interview/assets/k8s.html-2aeb1474.js" as="script"><link rel="prefetch" href="/interview/assets/Java.html-495fa897.js" as="script"><link rel="prefetch" href="/interview/assets/云.html-1f8759a4.js" as="script"><link rel="prefetch" href="/interview/assets/其他.html-5b78b34f.js" as="script"><link rel="prefetch" href="/interview/assets/网络.html-793e5ac2.js" as="script"><link rel="prefetch" href="/interview/assets/解决问题.html-433b9b4c.js" as="script"><link rel="prefetch" href="/interview/assets/认证授权.html-855f5970.js" as="script"><link rel="prefetch" href="/interview/assets/404.html-46166703.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/interview/" class=""><!----><span class="site-name">精简八股</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/interview/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Java基础"><span class="title">Java基础</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Java基础"><span class="title">Java基础</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/interview/Java基础/Java基础.md" class="" aria-label="基础"><!--[--><!--]--> 基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/interview/Java基础/Java关键字.md" class="" aria-label="关键字"><!--[--><!--]--> 关键字 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/interview/Java基础/Java面向对象.md" class="" aria-label="面向对象"><!--[--><!--]--> 面向对象 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/interview/Java基础/Java集合.md" class="" aria-label="集合"><!--[--><!--]--> 集合 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/interview/Java基础/Java线程.md" class="" aria-label="线程"><!--[--><!--]--> 线程 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/interview/Java基础/Java锁.md" class="" aria-label="锁"><!--[--><!--]--> 锁 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/interview/Java基础/Java虚拟机.md" class="" aria-label="虚拟机"><!--[--><!--]--> 虚拟机 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/interview/Java基础/JavaGC.md" class="" aria-label="GC"><!--[--><!--]--> GC <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/interview/Java基础/Java杂.md" class="" aria-label="杂"><!--[--><!--]--> 杂 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/xiaoso456/interview" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/interview/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Java基础"><span class="title">Java基础</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Java基础"><span class="title">Java基础</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/interview/Java基础/Java基础.md" class="" aria-label="基础"><!--[--><!--]--> 基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/interview/Java基础/Java关键字.md" class="" aria-label="关键字"><!--[--><!--]--> 关键字 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/interview/Java基础/Java面向对象.md" class="" aria-label="面向对象"><!--[--><!--]--> 面向对象 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/interview/Java基础/Java集合.md" class="" aria-label="集合"><!--[--><!--]--> 集合 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/interview/Java基础/Java线程.md" class="" aria-label="线程"><!--[--><!--]--> 线程 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/interview/Java基础/Java锁.md" class="" aria-label="锁"><!--[--><!--]--> 锁 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/interview/Java基础/Java虚拟机.md" class="" aria-label="虚拟机"><!--[--><!--]--> 虚拟机 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/interview/Java基础/JavaGC.md" class="" aria-label="GC"><!--[--><!--]--> GC <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/interview/Java基础/Java杂.md" class="" aria-label="杂"><!--[--><!--]--> 杂 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/xiaoso456/interview" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading"> <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/interview/%E6%B7%B7%E4%B9%B1%E9%9D%A2%E7%BB%8F/%E6%95%B0%E6%8D%AE%E5%BA%93.html#_1-mysql-主从复制的过程" class="router-link-active router-link-exact-active sidebar-item" aria-label="1 mysql 主从复制的过程"><!--[--><!--]--> 1 mysql 主从复制的过程 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/%E6%B7%B7%E4%B9%B1%E9%9D%A2%E7%BB%8F/%E6%95%B0%E6%8D%AE%E5%BA%93.html#_2-怎么能解决脏读问题" class="router-link-active router-link-exact-active sidebar-item" aria-label="2 怎么能解决脏读问题？"><!--[--><!--]--> 2 怎么能解决脏读问题？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/%E6%B7%B7%E4%B9%B1%E9%9D%A2%E7%BB%8F/%E6%95%B0%E6%8D%AE%E5%BA%93.html#_3-redis是怎么标记失效的" class="router-link-active router-link-exact-active sidebar-item" aria-label="3 redis是怎么标记失效的"><!--[--><!--]--> 3 redis是怎么标记失效的 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/%E6%B7%B7%E4%B9%B1%E9%9D%A2%E7%BB%8F/%E6%95%B0%E6%8D%AE%E5%BA%93.html#_4-redis失效你怎么设计" class="router-link-active router-link-exact-active sidebar-item" aria-label="4 redis失效你怎么设计"><!--[--><!--]--> 4 redis失效你怎么设计 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/%E6%B7%B7%E4%B9%B1%E9%9D%A2%E7%BB%8F/%E6%95%B0%E6%8D%AE%E5%BA%93.html#_5-红黑树-b树-b-树区别" class="router-link-active router-link-exact-active sidebar-item" aria-label="5 红黑树，b树，b+树区别"><!--[--><!--]--> 5 红黑树，b树，b+树区别 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/%E6%B7%B7%E4%B9%B1%E9%9D%A2%E7%BB%8F/%E6%95%B0%E6%8D%AE%E5%BA%93.html#_6-怎么保证redis-mysql一致性-双写一致性" class="router-link-active router-link-exact-active sidebar-item" aria-label="6 怎么保证redis/mysql一致性（双写一致性）"><!--[--><!--]--> 6 怎么保证redis/mysql一致性（双写一致性） <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/%E6%B7%B7%E4%B9%B1%E9%9D%A2%E7%BB%8F/%E6%95%B0%E6%8D%AE%E5%BA%93.html#_7-数据库的隔离级别有哪几个" class="router-link-active router-link-exact-active sidebar-item" aria-label="7 数据库的隔离级别有哪几个？"><!--[--><!--]--> 7 数据库的隔离级别有哪几个？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/%E6%B7%B7%E4%B9%B1%E9%9D%A2%E7%BB%8F/%E6%95%B0%E6%8D%AE%E5%BA%93.html#_8-sql慢了什么原因怎么查" class="router-link-active router-link-exact-active sidebar-item" aria-label="8 sql慢了什么原因怎么查"><!--[--><!--]--> 8 sql慢了什么原因怎么查 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/%E6%B7%B7%E4%B9%B1%E9%9D%A2%E7%BB%8F/%E6%95%B0%E6%8D%AE%E5%BA%93.html#_9-mvcc怎么实现的-其原理是什么" class="router-link-active router-link-exact-active sidebar-item" aria-label="9 mvcc怎么实现的，其原理是什么"><!--[--><!--]--> 9 mvcc怎么实现的，其原理是什么 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/%E6%B7%B7%E4%B9%B1%E9%9D%A2%E7%BB%8F/%E6%95%B0%E6%8D%AE%E5%BA%93.html#_10-什么情况用redis什么情况用mysql" class="router-link-active router-link-exact-active sidebar-item" aria-label="10 什么情况用redis什么情况用mysql？"><!--[--><!--]--> 10 什么情况用redis什么情况用mysql？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/%E6%B7%B7%E4%B9%B1%E9%9D%A2%E7%BB%8F/%E6%95%B0%E6%8D%AE%E5%BA%93.html#_11-b-树什么样子为什么能实现范围查找" class="router-link-active router-link-exact-active sidebar-item" aria-label="11 b+树什么样子为什么能实现范围查找"><!--[--><!--]--> 11 b+树什么样子为什么能实现范围查找 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/%E6%B7%B7%E4%B9%B1%E9%9D%A2%E7%BB%8F/%E6%95%B0%E6%8D%AE%E5%BA%93.html#_12-select是事务的么" class="router-link-active router-link-exact-active sidebar-item" aria-label="12 select是事务的么"><!--[--><!--]--> 12 select是事务的么 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/%E6%B7%B7%E4%B9%B1%E9%9D%A2%E7%BB%8F/%E6%95%B0%E6%8D%AE%E5%BA%93.html#_13-聚簇索引和非聚簇索引" class="router-link-active router-link-exact-active sidebar-item" aria-label="13 聚簇索引和非聚簇索引"><!--[--><!--]--> 13 聚簇索引和非聚簇索引 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/%E6%B7%B7%E4%B9%B1%E9%9D%A2%E7%BB%8F/%E6%95%B0%E6%8D%AE%E5%BA%93.html#_14-redis都有什么数据结构" class="router-link-active router-link-exact-active sidebar-item" aria-label="14 redis都有什么数据结构？"><!--[--><!--]--> 14 redis都有什么数据结构？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/%E6%B7%B7%E4%B9%B1%E9%9D%A2%E7%BB%8F/%E6%95%B0%E6%8D%AE%E5%BA%93.html#_15-zset怎么实现的" class="router-link-active router-link-exact-active sidebar-item" aria-label="15 zset怎么实现的?"><!--[--><!--]--> 15 zset怎么实现的? <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/%E6%B7%B7%E4%B9%B1%E9%9D%A2%E7%BB%8F/%E6%95%B0%E6%8D%AE%E5%BA%93.html#_16-跳表是什么" class="router-link-active router-link-exact-active sidebar-item" aria-label="16 跳表是什么？"><!--[--><!--]--> 16 跳表是什么？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/%E6%B7%B7%E4%B9%B1%E9%9D%A2%E7%BB%8F/%E6%95%B0%E6%8D%AE%E5%BA%93.html#_17-binlog-redolog-undolog作用和区别" class="router-link-active router-link-exact-active sidebar-item" aria-label="17 Binlog,redolog, undolog作用和区别"><!--[--><!--]--> 17 Binlog,redolog, undolog作用和区别 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/%E6%B7%B7%E4%B9%B1%E9%9D%A2%E7%BB%8F/%E6%95%B0%E6%8D%AE%E5%BA%93.html#_18-为什么要刷盘到redolog而不直接写入磁盘" class="router-link-active router-link-exact-active sidebar-item" aria-label="18 为什么要刷盘到redolog而不直接写入磁盘？"><!--[--><!--]--> 18 为什么要刷盘到redolog而不直接写入磁盘？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/%E6%B7%B7%E4%B9%B1%E9%9D%A2%E7%BB%8F/%E6%95%B0%E6%8D%AE%E5%BA%93.html#_19-mysql锁知道意向锁么" class="router-link-active router-link-exact-active sidebar-item" aria-label="19 mysql锁知道意向锁么？"><!--[--><!--]--> 19 mysql锁知道意向锁么？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/%E6%B7%B7%E4%B9%B1%E9%9D%A2%E7%BB%8F/%E6%95%B0%E6%8D%AE%E5%BA%93.html#_20-redis持久化-rdb和aof原理" class="router-link-active router-link-exact-active sidebar-item" aria-label="20 Redis持久化，RDB和AOF原理？"><!--[--><!--]--> 20 Redis持久化，RDB和AOF原理？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/%E6%B7%B7%E4%B9%B1%E9%9D%A2%E7%BB%8F/%E6%95%B0%E6%8D%AE%E5%BA%93.html#_21-left-join和exists的区别和适用场景" class="router-link-active router-link-exact-active sidebar-item" aria-label="21 left join和exists的区别和适用场景"><!--[--><!--]--> 21 left join和exists的区别和适用场景 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview/%E6%B7%B7%E4%B9%B1%E9%9D%A2%E7%BB%8F/%E6%95%B0%E6%8D%AE%E5%BA%93.html#_22-left-join和inner-join区别" class="router-link-active router-link-exact-active sidebar-item" aria-label="22 left join和inner join区别"><!--[--><!--]--> 22 left join和inner join区别 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h2 id="_1-mysql-主从复制的过程" tabindex="-1"><a class="header-anchor" href="#_1-mysql-主从复制的过程" aria-hidden="true">#</a> 1 mysql 主从复制的过程</h2><div class="custom-container tip"><p class="custom-container-title">提示</p><p>bin log（二进制日记）：记录DDL和DML，不记录查询</p><p>relay log（中继日记）：包含待执行的语句</p></div><ol><li>主库将数据更改斜日 bin log 日志</li><li>从库通过I/O线程读取主数据库bin log日志</li><li>从库通过将bin log拷贝到 relay log中</li><li>从库重做 relay log，完成数据同步</li></ol><h2 id="_2-怎么能解决脏读问题" tabindex="-1"><a class="header-anchor" href="#_2-怎么能解决脏读问题" aria-hidden="true">#</a> 2 怎么能解决脏读问题？</h2><p>脏读问题的解决方法有：</p><ol><li>乐观锁：获取数据指定数据的版本号，修改时对版本号检查。</li><li>悲观锁：每次获取数据前，都会对该数据加锁，使得任何其他线程都无法获取该数据。</li><li>数据库隔离级别：使用可重复读或以上的数据库隔离级别。</li></ol><h2 id="_3-redis是怎么标记失效的" tabindex="-1"><a class="header-anchor" href="#_3-redis是怎么标记失效的" aria-hidden="true">#</a> 3 redis是怎么标记失效的</h2><p>Redis使用key的设置超时来标记key失效，可以用 expire 命令设置</p><p>Redis也有自己的数据淘汰策略，超过内存时触发</p><h2 id="_4-redis失效你怎么设计" tabindex="-1"><a class="header-anchor" href="#_4-redis失效你怎么设计" aria-hidden="true">#</a> 4 redis失效你怎么设计</h2><p>对于热点数据，为了防止雪崩，一般不设置过期时间</p><p>选择合适的淘汰策略，可以根据过期时间、最少使用两个维度或者随机淘汰，一般是使用最少使用的进行淘汰</p><h2 id="_5-红黑树-b树-b-树区别" tabindex="-1"><a class="header-anchor" href="#_5-红黑树-b树-b-树区别" aria-hidden="true">#</a> 5 红黑树，b树，b+树区别</h2><p>红黑树是自平衡的二叉树，b树和b+树是多叉树。</p><p>b树和b+树：b+树非叶子节点不保存数据，只保存索引，查询效率稳定，节点有指向下一节点的指针，便于范围查询。</p><h2 id="_6-怎么保证redis-mysql一致性-双写一致性" tabindex="-1"><a class="header-anchor" href="#_6-怎么保证redis-mysql一致性-双写一致性" aria-hidden="true">#</a> 6 怎么保证redis/mysql一致性（双写一致性）</h2><p>最终一致性：</p><ol><li><p>使用事务保证双写同时成功或失败。一般先写 mysql，在写redis</p></li><li><p>可以只写mysql，然后用定时任务或者监听binlog日志，让redis数据和mysql同步</p></li><li><p>如果是删除可以考虑写mysql，再删redis（失败了重试）</p></li></ol><h2 id="_7-数据库的隔离级别有哪几个" tabindex="-1"><a class="header-anchor" href="#_7-数据库的隔离级别有哪几个" aria-hidden="true">#</a> 7 数据库的隔离级别有哪几个？</h2><p>4个：未提交读、已提交读、可重复读、可串行化</p><p>可以深读一下以下内容：</p><table><thead><tr><th>隔离级别</th><th>读脏数据</th><th>不可重复读</th><th>幻读</th></tr></thead><tbody><tr><td>未提交读</td><td>可能</td><td>可能</td><td>可能</td></tr><tr><td>已提交读</td><td>不可能</td><td>可能</td><td>可能</td></tr><tr><td>可重复读</td><td>不可能</td><td>不可能</td><td>可能</td></tr><tr><td>可串行化</td><td>不可能</td><td>不可能</td><td>不可能</td></tr></tbody></table><p>未提交读(Read Uncommitted)：允许脏读，也就是可能<strong>读取到其他会话中未提交事务修改的数据</strong>。</p><p>提交读(Read Committed)：只能读取到已经提交事务的数据。Oracle 等多数数据库默认都是该 级别 (不重复读)。</p><p>可重复读(Repeated Read)：可重复读。在同一个事务多个实例并发查询都是事务开始时刻一致的（会看到同样的数据），InnoDB 默认级别。在 SQL 标准中，该隔离级别消除了不可重复读，但是还存在幻象读。</p><p>串行读(Serializable)：完全串行化的读，每次读都需要获得表级共享锁，读写相互都会阻塞。</p><p>读脏数据：读到其他会话事务未提交事务的数据。【通俗：读到了别的事务回滚前的脏数据】</p><p>不可重复读【重点在update和delete，同一事务重复读同一数据就会出现问题，行锁可以解决，但解决不了insert幻读问题】：读到其他会话事务提交的数据【当前事务先进行了一次数据读取，然后再次读取到的数据是别的事务修改成功的数据，导致两次读取到的数据不匹配】</p><p>幻读【重点在insert】：事务A首先根据条件索引得到N条数据，然后事务B改变了这N条数据之外的M条或者增添了M条符合事务A搜索条件的数据，导致事务A再次搜索发现有N+M条数据了，就产生了幻读</p><p>值得注意的是mysql可重复读级别解决了幻读</p><p>MVCC多版本并发控制</p><p><img src="/interview/assets/image-20230226203443303-8423c35e.png" alt="image-20230226203443303"></p><h2 id="_8-sql慢了什么原因怎么查" tabindex="-1"><a class="header-anchor" href="#_8-sql慢了什么原因怎么查" aria-hidden="true">#</a> 8 sql慢了什么原因怎么查</h2><p>启动慢sql日志，然后可以去定位和优化sql，找到sql语句后使用 expain 语句查看 sql 执行计划。</p><h2 id="_9-mvcc怎么实现的-其原理是什么" tabindex="-1"><a class="header-anchor" href="#_9-mvcc怎么实现的-其原理是什么" aria-hidden="true">#</a> 9 mvcc怎么实现的，其原理是什么</h2><p>mysql 的mvcc 是通过添加两个隐藏列，记录创建和删除版本号实现的，每次事务操作都会给全局版本号+1。查询时，只会查询比自身版本号小的，使得绝大多数操作不用加锁</p><h2 id="_10-什么情况用redis什么情况用mysql" tabindex="-1"><a class="header-anchor" href="#_10-什么情况用redis什么情况用mysql" aria-hidden="true">#</a> 10 什么情况用redis什么情况用mysql？</h2><p>mysql适合并发较低，数据要求可靠性高的</p><p>redis适合并发高，数据可靠性较低的</p><h2 id="_11-b-树什么样子为什么能实现范围查找" tabindex="-1"><a class="header-anchor" href="#_11-b-树什么样子为什么能实现范围查找" aria-hidden="true">#</a> 11 b+树什么样子为什么能实现范围查找</h2><p>B+树叶子节点之间用指针连接，形成类似单链表的结构，适合范围查找</p><h2 id="_12-select是事务的么" tabindex="-1"><a class="header-anchor" href="#_12-select是事务的么" aria-hidden="true">#</a> 12 select是事务的么</h2><p>如果开启了自动提交事务，每一条sql语句都会开启事务</p><h2 id="_13-聚簇索引和非聚簇索引" tabindex="-1"><a class="header-anchor" href="#_13-聚簇索引和非聚簇索引" aria-hidden="true">#</a> 13 聚簇索引和非聚簇索引</h2><p>聚簇索引：叶子节点存储的是完整行数据</p><p>非聚簇索引（二级索引）：叶子节点存的是数据的位置</p><p>覆盖索引：叶子节点存储完整行数据</p><h2 id="_14-redis都有什么数据结构" tabindex="-1"><a class="header-anchor" href="#_14-redis都有什么数据结构" aria-hidden="true">#</a> 14 redis都有什么数据结构？</h2><ul><li>字符串（String）</li><li>散列（Hash）</li><li>列表（List）</li><li>集合（Set）</li><li>有序集合（Sorted set）</li></ul><h2 id="_15-zset怎么实现的" tabindex="-1"><a class="header-anchor" href="#_15-zset怎么实现的" aria-hidden="true">#</a> 15 zset怎么实现的?</h2><p>一个String类型的field和一个double类型的score组成的</p><p>基于跳表实现</p><h2 id="_16-跳表是什么" tabindex="-1"><a class="header-anchor" href="#_16-跳表是什么" aria-hidden="true">#</a> 16 跳表是什么？</h2><p>跳表是一种用于快速查找的数据结构，查找有两个动作：</p><ul><li>如果被查找值比链表下一节点值大，则移动到下一节点</li><li>如果被查找值比链表下一节点值大，则移动到下一链表</li></ul><p><img src="/interview/assets/watermark_image_d2F0ZXIvYmFpa2U5Mg___g_7_xp_5_yp_5-9acfcf9b.png" alt="img"></p><h2 id="_17-binlog-redolog-undolog作用和区别" tabindex="-1"><a class="header-anchor" href="#_17-binlog-redolog-undolog作用和区别" aria-hidden="true">#</a> 17 Binlog,redolog, undolog作用和区别</h2><p>binlog是逻辑日志，记录sql，一般用于备份，保证数据的持久化</p><p>redolog是物理日志，记录事务信息，一般用于数据恢复</p><p>undolog用于回滚，保证事务的原子性，用于撤销操作</p><h2 id="_18-为什么要刷盘到redolog而不直接写入磁盘" tabindex="-1"><a class="header-anchor" href="#_18-为什么要刷盘到redolog而不直接写入磁盘" aria-hidden="true">#</a> 18 为什么要刷盘到redolog而不直接写入磁盘？</h2><p>redo log相当于缓冲区，减少响应时间，可以提高性能。</p><p>只有事务提交了后才会直接写到磁盘，保证事务原子性</p><h2 id="_19-mysql锁知道意向锁么" tabindex="-1"><a class="header-anchor" href="#_19-mysql锁知道意向锁么" aria-hidden="true">#</a> 19 mysql锁知道意向锁么？</h2><p>意向锁是为了简化对其他事务获取锁时的判断，是针对表的锁，表明事务意图对行上锁。允许行级锁和表级锁共存</p><h2 id="_20-redis持久化-rdb和aof原理" tabindex="-1"><a class="header-anchor" href="#_20-redis持久化-rdb和aof原理" aria-hidden="true">#</a> 20 Redis持久化，RDB和AOF原理？</h2><p>RDB：保存 Redis 中所有数据快照，会fork一个进程写入当前数据到临时文件，然后替换上次的快照文件。特点是还原快</p><p>AOF：保存Redis执行的write命令，能最大限度保持数据完整。</p><p>也可以使用混合持久化</p><h2 id="_21-left-join和exists的区别和适用场景" tabindex="-1"><a class="header-anchor" href="#_21-left-join和exists的区别和适用场景" aria-hidden="true">#</a> 21 left join和exists的区别和适用场景</h2><p>left join 适用于需要返回作表所有记录且使用右表关联字段</p><p>exists 适用于判断左表记录是否关联到右表记录，不返回右表字段值</p><h2 id="_22-left-join和inner-join区别" tabindex="-1"><a class="header-anchor" href="#_22-left-join和inner-join区别" aria-hidden="true">#</a> 22 left join和inner join区别</h2></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/xiaoso456/interview/edit/main/docs/混乱面经/数据库.md" rel="noopener noreferrer" target="_blank" aria-label="编辑此页"><!--[--><!--]--> 编辑此页 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">最后更新: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: xiaoso456@qq.com">xiaoso</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/interview/assets/app-aa183e5a.js" defer></script>
  </body>
</html>
